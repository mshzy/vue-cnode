(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},"09bf":function(t,e,a){},1775:function(t,e,a){"use strict";var n=a("a22d"),r=a.n(n);r.a},"20b1":function(t,e,a){},"305d":function(t,e,a){},"31b4":function(t,e,a){"use strict";var n=a("5909"),r=a.n(n);r.a},"3d26":function(t,e,a){t.exports=a.p+"img/back-top.22ba90ad.svg"},4045:function(t,e,a){t.exports=a.p+"img/loading.054f54dc.svg"},"4a44":function(t,e,a){"use strict";var n=a("305d"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("0d03"),a("e25e"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i=(a("034f"),a("2877")),o={},c=Object(i["a"])(o,r,s,!1,null,null,null),l=c.exports,u=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("Header"),a("MainList")],1)},d=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("img",{attrs:{alt:"CNODE社区",src:a("9b19")},on:{click:t.home}}),t._m(0)])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"#"}},[t._v("首页")])]),a("li",[a("a",{attrs:{href:"#"}},[t._v("新手入门")])]),a("li",[a("a",{attrs:{href:"#"}},[t._v("API")])]),a("li",[a("a",{attrs:{href:"#"}},[t._v("关于")])]),a("li",[a("a",{attrs:{href:"#"}},[t._v("注册")])]),a("li",[a("a",{attrs:{href:"#"}},[t._v("登录")])])])}],m={name:"Header",methods:{home:function(){this.$router.push("/")}}},h=m,_=(a("1775"),Object(i["a"])(h,f,v,!1,null,"a795e61a",null)),g=_.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mainListWrapper"},[n("div",{staticClass:"mainList"},[n("div",{staticClass:"type"},[n("span",{on:{click:function(e){return t.loadList(null,1)}}},[t._v("全部")]),n("span",{on:{click:function(e){return t.loadList("good",1)}}},[t._v("精华")]),n("span",{on:{click:function(e){return t.loadList("share",1)}}},[t._v("分享")]),n("span",{on:{click:function(e){return t.loadList("ask",1)}}},[t._v("问答")]),n("span",{on:{click:function(e){return t.loadList("job",1)}}},[t._v("招聘")])]),t.isLoading?n("div",{staticClass:"loading"},[n("img",{attrs:{src:a("4045")}})]):n("ul",t._l(t.items,(function(e,r){return n("li",{key:r},[n("img",{staticClass:"avatar",attrs:{src:e.author.avatar_url,alt:"avatar"}}),n("span",{class:e.class},[t._v(t._s(e.tab))]),n("router-link",{attrs:{to:{name:"article",params:{name:e.author.loginname,id:e.id}}}},[n("span",{staticClass:"title"},[t._v(t._s(e.title))])]),n("img",{staticClass:"reply",attrs:{src:a("e85e")}}),n("span",{staticClass:"replyCount"},[t._v(t._s(e.reply_count)+"/"+t._s(e.visit_count))]),n("span",{staticClass:"lastTime"},[t._v(t._s(t._f("formatDate")(e.last_reply_at)))])],1)})),0)]),n("Pagination",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],on:{update:function(e){return t.loadList(t.type,e)}}})],1)},C=[],x=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination"},[a("button",{staticClass:"page",on:{click:function(e){return t.handle(1)}}},[t._v("首页")]),a("button",{staticClass:"page",on:{click:t.lastPage}},[t._v("上一页")]),t.currentPage>3?a("div",[t._v("...")]):t._e(),t._l(t.numbers,(function(e,n){return a("button",{key:n,class:{active:e===t.currentPage,page:!0},on:{click:function(a){return t.handle(e)}}},[t._v(t._s(e))])})),a("div",[t._v("...")]),a("button",{staticClass:"page",on:{click:t.nextPage}},[t._v("下一页")])],2)}),y=[],k={name:"Pagination",data:function(){return{numbers:[1,2,3,4,5],currentPage:1}},methods:{handle:function(t){this.currentPage=t,this.numbers=t>=3?[t-2,t-1,t,t+1,t+2]:[1,2,3,4,5],this.$emit("update",t)},lastPage:function(){if(this.currentPage>1){var t=this.currentPage-1;this.handle(t)}else this.currentPage=1,this.handle(1)},nextPage:function(){var t=this.currentPage+1;this.handle(t)}}},w=k,P=(a("6dba"),Object(i["a"])(w,x,y,!1,null,"29d9f904",null)),j=P.exports,O={name:"MainList",data:function(){return{isLoading:!0,items:null,type:null}},components:{Pagination:j},created:function(){this.loadList(null,1)},methods:{loadList:function(t,e){var a,n,r,s,i,o,c,l;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:if(!t){u.next=8;break}return this.type=t,n="https://cnodejs.org/api/v1/topics?limit=20&page=".concat(e,"&tab=").concat(t),u.next=5,regeneratorRuntime.awrap(this.axios.get(n));case 5:a=u.sent,u.next=12;break;case 8:return this.type=null,u.next=11,regeneratorRuntime.awrap(this.axios.get("https://cnodejs.org/api/v1/topics?limit=20&page=".concat(e)));case 11:a=u.sent;case 12:for(this.isLoading=!1,r=!0,s=!1,i=void 0,u.prev=16,o=a.data.data[Symbol.iterator]();!(r=(c=o.next()).done);r=!0)l=c.value,1==l.good?(l.class="good",l.tab="精华"):1==l.top?(l.class="good",l.tab="置顶"):"ask"==l.tab?(l.class="normal",l.tab="问答"):"share"==l.tab?(l.class="normal",l.tab="分享"):(l.class="normal",l.tab="招聘");u.next=24;break;case 20:u.prev=20,u.t0=u["catch"](16),s=!0,i=u.t0;case 24:u.prev=24,u.prev=25,r||null==o.return||o.return();case 27:if(u.prev=27,!s){u.next=30;break}throw i;case 30:return u.finish(27);case 31:return u.finish(24);case 32:this.items=a.data.data,window.scrollTo({top:0,behavior:"smooth"});case 34:case"end":return u.stop()}}),null,this,[[16,20,24,32],[25,,27,31]])}}},L=O,T=(a("bb6a"),Object(i["a"])(L,b,C,!1,null,"5d946105",null)),$=T.exports,I={name:"home",components:{Header:g,MainList:$}},E=I,A=Object(i["a"])(E,p,d,!1,null,"14cafb2f",null),H=A.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ArticlePage"},[a("Header"),a("div",{staticClass:"wrapper"},[a("Article"),a("AuthorInfo")],1)],1)},R=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.res?n("div",{staticClass:"article"},[n("div",{staticClass:"topic_header"},[n("div",{staticClass:"topic_title"},[t._v(t._s(t.res.title))]),n("ul",[n("li",[t._v("•发布于:"+t._s(t._f("formatDate")(t.res.create_at)))]),n("li",[t._v("•作者:"+t._s(t.res.author.loginname))]),n("li",[t._v("•"+t._s(t.res.visit_count)+"次浏览")])]),n("div",{staticClass:"topic_content",domProps:{innerHTML:t._s(t.res.content)}})]),n("div",{attrs:{id:"reply"}},[n("div",{staticClass:"topbar"},[t._v("回复")]),t._l(t.res.replies,(function(e,a){return n("div",{key:a,staticClass:"replySec"},[n("div",{staticClass:"replyUp"},[n("router-link",{attrs:{to:{name:"user_info",params:{name:e.author.loginname}}}},[n("img",{attrs:{src:e.author.avatar_url}})]),n("router-link",{attrs:{to:{name:"user_info",params:{name:e.author.loginname}}}},[n("span",[t._v(t._s(e.author.loginname))])]),n("span",[t._v(t._s(a+1)+"楼")]),e.ups.length>0?n("span",{staticClass:"upCount"},[t._v("☝"+t._s(e.ups.length))]):n("span")],1),n("div",{staticClass:"replyContent",domProps:{innerHTML:t._s(e.content)}})])}))],2),n("div",{staticClass:"backToTop"},[n("img",{attrs:{src:a("3d26")},on:{click:t.backToTop}}),n("p",[t._v("回到顶部")])])]):t._e()},D=[],U={name:"Article",data:function(){return{res:null}},created:function(){var t=this;this.axios.get("https://cnodejs.org/api/v1/topic/".concat(this.$route.params.id)).then((function(e){return t.res=e.data.data})).catch((function(t){return alert(t)}))},watch:{$route:function(t){var e=this;this.axios.get("https://cnodejs.org/api/v1/topic/".concat(t.params.id)).then((function(t){return e.res=t.data.data})).catch((function(t){return alert(t)}))}},methods:{backToTop:function(){window.scrollTo({top:0,behavior:"smooth"})}}},W=U,J=(a("31b4"),a("bb68"),Object(i["a"])(W,S,D,!1,null,"608be447",null)),N=J.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.res?a("div",{staticClass:"authorInfo"},[a("section",{staticClass:"mainInfo"},[a("div",{staticClass:"topbar"},[t._v("作者")]),a("div",{staticClass:"authorWrapper"},[a("router-link",{attrs:{to:{name:"user_info",params:{name:t.res.loginname}}}},[a("img",{attrs:{src:t.res.avatar_url,alt:"头像"}})]),a("div",{staticClass:"idWrapper"},[a("div",{staticClass:"id"},[t._v("用户名:"+t._s(t.res.loginname))]),a("div",{staticClass:"score"},[t._v("积分:"+t._s(t.res.score))])])],1)]),a("section",{staticClass:"replies"},[a("div",[t._v("最近回复")]),a("ul",t._l(t.list.replies,(function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:{name:"article",params:{name:e.author.loginname,id:e.id}}}},[t._v(t._s(e.title))])],1)})),0)]),a("section",{staticClass:"topics"},[a("div",[t._v("最近主题")]),a("ul",t._l(t.list.topics,(function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:{name:"article",params:{name:e.author.loginname,id:e.id}}}},[t._v(t._s(e.title))])],1)})),0)])]):t._e()},z=[],B=(a("fb6a"),a("b0c0"),{name:"AuthorInfo",data:function(){return{res:null}},created:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.axios.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)));case 2:t=e.sent,this.res=t.data.data;case 4:case"end":return e.stop()}}),null,this)},computed:{list:function(){return{replies:this.res.recent_replies.slice(0,5),topics:this.res.recent_topics.slice(0,5)}}},watch:{$route:function(t){var e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(this.axios.get("https://cnodejs.org/api/v1/user/".concat(t.params.name)));case 3:e=a.sent,this.res=e.data.data,a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),alert(a.t0);case 10:case"end":return a.stop()}}),null,this,[[0,7]])}}}),F=B,G=(a("f7ad"),Object(i["a"])(F,q,z,!1,null,"7e60bcad",null)),K=G.exports,Q={name:"ArticlePage",components:{Header:g,Article:N,AuthorInfo:K}},V=Q,X=(a("4a44"),Object(i["a"])(V,M,R,!1,null,"5ff829a8",null)),Y=X.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"UserPage"},[a("Header"),a("UserInfo")],1)},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user?a("div",{staticClass:"userInfo"},[a("section",{staticClass:"mainInfo"},[a("img",{attrs:{src:t.user.avatar_url,alt:"头像"}}),a("div",[a("div",{staticClass:"id"},[t._v(t._s(t.user.loginname))]),a("div",{staticClass:"score"},[t._v("积分："+t._s(t.user.score))]),a("div",{staticClass:"signTime"},[t._v("注册时间："+t._s(t.signTime))])])]),a("section",{staticClass:"replies"},[a("div",[t._v("最近参与的主题")]),t._l(t.user.recent_replies,(function(e){return a("router-link",{key:e.id,attrs:{to:{name:"article",params:{id:e.id}}}},[t._v(t._s(e.title))])}))],2),a("section",{staticClass:"topics"},[a("div",[t._v("最近创建的主题")]),t._l(t.user.recent_topics,(function(e){return a("router-link",{key:e.id,attrs:{to:{name:"article",params:{id:e.id}}}},[t._v(t._s(e.title))])}))],2)]):t._e()},at=[],nt={name:"UserInfo",data:function(){return{user:null}},created:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.axios.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)));case 2:t=e.sent,this.user=t.data.data;case 4:case"end":return e.stop()}}),null,this)},computed:{signTime:function(){return this.user.create_at.slice(0,10)}}},rt=nt,st=(a("64f1"),Object(i["a"])(rt,et,at,!1,null,"aaaad116",null)),it=st.exports,ot={name:"UserPage",components:{UserInfo:it,Header:g}},ct=ot,lt=Object(i["a"])(ct,Z,tt,!1,null,"39e5bae6",null),ut=lt.exports;n["a"].use(u["a"]);var pt=[{path:"/",name:"home",component:H},{name:"article",path:"/article/:name/:id",component:Y},{name:"user_info",path:"/user_info/:name",component:ut}],dt=new u["a"]({routes:pt}),ft=dt,vt=(a("f5df1"),a("bc3a")),mt=a.n(vt);n["a"].prototype.axios=mt.a,n["a"].config.productionTip=!1,new n["a"]({router:ft,render:function(t){return t(l)}}).$mount("#app"),n["a"].filter("formatDate",(function(t){if(!t)return"";var e=new Date(t),a=(new Date).getTime()-e.getTime();return a<0?"":a/1e3<30?"刚刚":a/1e3<60?parseInt(a/1e3)+"秒前":a/6e4<60?parseInt(a/6e4)+"分钟前":a/36e5<24?parseInt(a/36e5)+"小时前":a/864e5<31?parseInt(a/864e5)+"天前":a/2592e6<12?parseInt(a/2592e6)+"月前":parseInt(a/31536e6)+"年前"}))},5909:function(t,e,a){},"64f1":function(t,e,a){"use strict";var n=a("20b1"),r=a.n(n);r.a},"6dba":function(t,e,a){"use strict";var n=a("e913"),r=a.n(n);r.a},"85ec":function(t,e,a){},"9b19":function(t,e,a){t.exports=a.p+"img/logo.14fa9ff7.svg"},a22d:function(t,e,a){},afe0:function(t,e,a){},bb68:function(t,e,a){"use strict";var n=a("dc10"),r=a.n(n);r.a},bb6a:function(t,e,a){"use strict";var n=a("09bf"),r=a.n(n);r.a},dc10:function(t,e,a){},e85e:function(t,e,a){t.exports=a.p+"img/reply.9196967c.svg"},e913:function(t,e,a){},f7ad:function(t,e,a){"use strict";var n=a("afe0"),r=a.n(n);r.a}});
//# sourceMappingURL=app.4760a918.js.map